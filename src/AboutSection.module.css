/* STICKY SCROLL SELF-PORTRAIT SECTION */

:root {
    /* Design tokens */
    --primary-text: #111;
    --secondary-text: #666;
    --tertiary-text: #999;
    --accent-color: #000;
    --background-base: #fafafa;

    /* Spacing system */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;

    /* Typography scale */
    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;
    --text-5xl: 3rem;
    --text-6xl: 3.75rem;

    /* Animation timing */
    --duration-fast: 0.2s;
    --duration-normal: 0.4s;
    --duration-slow: 0.8s;
    --duration-mood: 1.5s;

    /* Easing functions */
    --ease-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-gentle: cubic-bezier(0.25, 0.1, 0.25, 1);
    --ease-mood: cubic-bezier(0.4, 0, 0.2, 1);

    /* Z-index layers */
    --z-background: 1;
    --z-sections: 5;
    --z-sticky: 10;
    --z-header: 20;
}

/* MAIN CONTAINER */
.aboutContainer {
    position: relative;
    /* Height will be set by the number of poem sections */
    min-height: calc(35 * 100vh);
    background: var(--background-base);

    /* Smooth mood transitions */
    transition: background-color var(--duration-mood) var(--ease-mood);

    /* Performance optimizations */
    will-change: background-color;
    transform: translate3d(0, 0, 0);
}

/* NAVIGATION INTRO - BRUTALIST DESIGN */
.navigationIntro {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #000;
    color: #fff;
    z-index: 100;

    display: flex;
    align-items: center;
    justify-content: center;

    font-family: "Courier New", monospace;
    font-weight: bold;

    animation: introEntrance 0.5s ease-out;
}

@keyframes introEntrance {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.introContent {
    max-width: 800px;
    width: 90%;
    padding: var(--space-2xl);
    border: 4px solid #fff;
    background: #000;
}

.introHeader {
    display: flex;
    align-items: baseline;
    gap: var(--space-lg);
    margin-bottom: var(--space-2xl);
    padding-bottom: var(--space-lg);
    border-bottom: 2px solid #fff;
}

.introNumber {
    font-size: var(--text-6xl);
    font-weight: 900;
    color: #fff;
    line-height: 1;
}

.introTitle {
    font-size: var(--text-2xl);
    font-weight: 700;
    letter-spacing: 0.2em;
    color: #fff;
}

.introInstructions {
    margin-bottom: var(--space-2xl);
}

.instructionGroup {
    margin-bottom: var(--space-xl);
}

.instructionTitle {
    font-size: var(--text-lg);
    font-weight: 900;
    letter-spacing: 0.15em;
    margin-bottom: var(--space-lg);
    color: #fff;
    text-decoration: underline;
}

.instructionList {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.instructionItem {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm) 0;
    border-bottom: 1px solid #333;
}

.instructionKey {
    font-size: var(--text-sm);
    font-weight: 900;
    letter-spacing: 0.1em;
    background: #fff;
    color: #000;
    padding: 4px 8px;
    border: 2px solid #fff;
    min-width: 80px;
    text-align: center;
}

.instructionAction {
    font-size: var(--text-sm);
    font-weight: 400;
    color: #ccc;
    text-align: right;
    flex: 1;
    margin-left: var(--space-lg);
}

.introFooter {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: var(--space-lg);
    border-top: 2px solid #fff;
}

.startPrompt {
    font-size: var(--text-lg);
    font-weight: 900;
    letter-spacing: 0.1em;
    color: #fff;
    animation: blink 1.5s infinite;
}

@keyframes blink {
    0%,
    50% {
        opacity: 1;
    }
    51%,
    100% {
        opacity: 0.3;
    }
}

.lineCount {
    font-size: var(--text-sm);
    font-weight: 700;
    color: #666;
    letter-spacing: 0.1em;
}

/* Hide intro on mobile landscape */
@media (max-height: 500px) and (orientation: landscape) {
    .introContent {
        padding: var(--space-lg);
        max-width: 600px;
    }

    .introNumber {
        font-size: var(--text-4xl);
    }

    .introTitle {
        font-size: var(--text-lg);
    }

    .instructionItem {
        padding: 2px 0;
    }
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .introContent {
        padding: var(--space-lg);
        border-width: 2px;
    }

    .introHeader {
        flex-direction: column;
        gap: var(--space-sm);
        text-align: center;
    }

    .introNumber {
        font-size: var(--text-5xl);
    }

    .introTitle {
        font-size: var(--text-xl);
    }

    .instructionItem {
        flex-direction: column;
        gap: var(--space-xs);
        text-align: center;
    }

    .instructionAction {
        text-align: center;
        margin-left: 0;
    }

    .introFooter {
        flex-direction: column;
        gap: var(--space-sm);
        text-align: center;
    }
}

@media (max-width: 480px) {
    .introContent {
        padding: var(--space-md);
        width: 95%;
    }

    .introNumber {
        font-size: var(--text-4xl);
    }

    .introTitle {
        font-size: var(--text-lg);
    }

    .instructionKey {
        min-width: 60px;
        font-size: var(--text-xs);
    }

    .instructionAction {
        font-size: var(--text-xs);
    }
}

/* Container state when showing intro */
.showingIntro .stickyHeader,
.showingIntro .stickyContent,
.showingIntro .atmosphereLayer {
    opacity: 0;
    pointer-events: none;
}

/* STICKY HEADER */
.stickyHeader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    z-index: var(--z-header);
    padding: var(--space-lg) var(--space-xl);

    display: flex;
    justify-content: space-between;
    align-items: center;

    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);

    /* Performance */
    will-change: transform;
    transform: translate3d(0, 0, 0);
}

.sectionInfo {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.sectionNumber {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--accent-color);
    font-variant-numeric: tabular-nums;
}

.sectionTitle {
    font-size: var(--text-sm);
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--secondary-text);
}

.progressContainer {
    flex: 1;
    max-width: 200px;
    height: 2px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 1px;
    overflow: hidden;
    margin: 0 var(--space-xl);
}

.progressBar {
    height: 100%;
    background: var(--accent-color);
    transition: width var(--duration-normal) var(--ease-smooth);
    transform-origin: left;
    will-change: width;
}

.positionInfo {
    font-size: var(--text-sm);
    color: var(--tertiary-text);
    font-weight: 400;
    font-variant-numeric: tabular-nums;
}

/* STICKY CONTENT */
.stickyContent {
    position: sticky;
    top: 50%;
    left: 0;
    width: 100%;
    height: 0;
    z-index: var(--z-sticky);

    display: flex;
    align-items: center;
    justify-content: center;

    transform: translateY(-50%);
    pointer-events: none;

    /* Performance */
    will-change: transform;
}

.poemText {
    max-width: min(800px, 90vw);
    padding: 0 var(--space-xl);
    text-align: center;

    font-size: var(--text-4xl);
    font-weight: 500;
    line-height: 1.3;
    color: var(--primary-text);

    /* Smooth transitions */
    transition:
        opacity var(--duration-slow) var(--ease-mood),
        transform var(--duration-slow) var(--ease-mood),
        color var(--duration-mood) var(--ease-mood),
        font-weight var(--duration-slow) var(--ease-mood),
        font-size var(--duration-slow) var(--ease-mood);

    /* Performance */
    will-change: opacity, transform, color, font-weight, font-size;
    transform: translate3d(0, 0, 0);

    /* Entry animation */
    animation: poemEntrance var(--duration-slow) var(--ease-mood);
}

@keyframes poemEntrance {
    from {
        opacity: 0;
        transform: translateY(20px) translate3d(0, 0, 0);
    }
    to {
        opacity: 1;
        transform: translateY(0) translate3d(0, 0, 0);
    }
}

/* SCROLL SECTIONS */
.scrollSections {
    position: relative;
    z-index: var(--z-sections);
}

/* NAVIGATION INTRO - BRUTALIST STYLE */
.navigationIntro {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #000;
    color: #fff;
    z-index: 1000;

    display: flex;
    align-items: center;
    justify-content: center;

    font-family: "Courier New", monospace;

    /* Entry animation */
    animation: introEntrance 0.5s var(--ease-mood);
}

@keyframes introEntrance {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.introContent {
    max-width: 600px;
    width: 90%;
    text-align: left;

    border: 3px solid #fff;
    padding: var(--space-2xl);
    background: #000;
}

.introHeader {
    margin-bottom: var(--space-2xl);
    border-bottom: 2px solid #fff;
    padding-bottom: var(--space-lg);
}

.introNumber {
    font-size: var(--text-4xl);
    font-weight: 900;
    line-height: 1;
    margin-bottom: var(--space-xs);
}

.introTitle {
    font-size: var(--text-xl);
    font-weight: 700;
    letter-spacing: 0.2em;
    text-transform: uppercase;
}

.introInstructions {
    margin-bottom: var(--space-2xl);
}

.instructionGroup {
    margin-bottom: var(--space-lg);
}

.instructionTitle {
    font-size: var(--text-sm);
    font-weight: 700;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: var(--space-md);
    color: #ccc;
}

.instructionList {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.instructionItem {
    display: flex;
    align-items: baseline;
    gap: var(--space-lg);
    font-family: "Courier New", monospace;
}

.instructionKey {
    font-size: var(--text-sm);
    font-weight: 700;
    background: #fff;
    color: #000;
    padding: var(--space-xs) var(--space-sm);
    min-width: 80px;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.instructionAction {
    font-size: var(--text-sm);
    color: #fff;
    flex: 1;
}

.introFooter {
    border-top: 2px solid #fff;
    padding-top: var(--space-lg);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.startPrompt {
    font-size: var(--text-lg);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    animation: blink 2s infinite;
}

@keyframes blink {
    0%,
    50% {
        opacity: 1;
    }
    51%,
    100% {
        opacity: 0.3;
    }
}

.lineCount {
    font-size: var(--text-sm);
    color: #ccc;
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Hide other content when showing intro */
.showingIntro .stickyHeader,
.showingIntro .stickyContent,
.showingIntro .atmosphereLayer {
    opacity: 0;
    pointer-events: none;
}

/* Responsive intro styles */
@media (max-width: 768px) {
    .introContent {
        padding: var(--space-xl);
        border-width: 2px;
    }

    .introNumber {
        font-size: var(--text-3xl);
    }

    .introTitle {
        font-size: var(--text-lg);
    }

    .instructionItem {
        flex-direction: column;
        gap: var(--space-xs);
        align-items: flex-start;
    }

    .instructionKey {
        min-width: auto;
        align-self: flex-start;
    }

    .introFooter {
        flex-direction: column;
        gap: var(--space-md);
        text-align: center;
    }
}

@media (max-width: 480px) {
    .introContent {
        padding: var(--space-lg);
        width: 95%;
    }

    .introHeader {
        margin-bottom: var(--space-lg);
    }

    .introNumber {
        font-size: var(--text-2xl);
    }

    .instructionKey {
        font-size: var(--text-xs);
        padding: 2px var(--space-xs);
    }

    .instructionAction {
        font-size: var(--text-xs);
    }

    .startPrompt {
        font-size: var(--text-base);
    }
}

/* ATMOSPHERE LAYER */
.atmosphereLayer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: var(--z-background);

    background: transparent;
    transition: all var(--duration-mood) var(--ease-mood);

    /* Performance */
    will-change: background;
    transform: translate3d(0, 0, 0);
}

/* MOOD STATES */

/* Unsettled */
.mood_unsettled {
    background: #f8f8f8;
}
.mood_unsettled .poemText {
    color: #222;
}
.mood_unsettled .atmosphereLayer {
    background: linear-gradient(
        45deg,
        transparent 95%,
        rgba(200, 200, 200, 0.1) 100%
    );
}

/* Disconnected */
.mood_disconnected {
    background: #f5f5f5;
}
.mood_disconnected .poemText {
    color: #333;
    letter-spacing: 0.02em;
}
.mood_disconnected .atmosphereLayer {
    background: radial-gradient(
        circle at 70% 30%,
        rgba(180, 190, 200, 0.1) 0%,
        transparent 50%
    );
}

/* Exhausted */
.mood_exhausted {
    background: #f2f2f2;
}
.mood_exhausted .poemText {
    color: #444;
    font-weight: 400;
}
.mood_exhausted .atmosphereLayer {
    background: linear-gradient(
        180deg,
        transparent 70%,
        rgba(150, 150, 150, 0.1) 100%
    );
}

/* Masked */
.mood_masked {
    background: #f9f9f9;
}
.mood_masked .poemText {
    color: #222;
    text-shadow: 0 0 1px rgba(255, 255, 255, 0.3);
}
.mood_masked .atmosphereLayer {
    background: radial-gradient(
        circle at center,
        rgba(255, 255, 255, 0.2) 0%,
        transparent 60%
    );
}

/* Resistance */
.mood_resistance {
    background: #f6f6f6;
}
.mood_resistance .poemText {
    color: #2a2a2a;
    font-weight: 550;
}
.mood_resistance .atmosphereLayer {
    background: linear-gradient(
        135deg,
        transparent 80%,
        rgba(200, 150, 150, 0.08) 100%
    );
}

/* Isolated */
.mood_isolated {
    background: #f4f4f4;
}
.mood_isolated .poemText {
    color: #555;
    letter-spacing: 0.05em;
}
.mood_isolated .atmosphereLayer {
    background: radial-gradient(
        ellipse at center,
        transparent 40%,
        rgba(100, 100, 100, 0.05) 100%
    );
}

/* Awakening */
.mood_awakening {
    background: #f7f7f7;
}
.mood_awakening .poemText {
    color: #111;
    font-weight: 600;
}
.mood_awakening .atmosphereLayer {
    background: linear-gradient(
        90deg,
        transparent 60%,
        rgba(220, 180, 120, 0.08) 100%
    );
}

/* Hyperaware */
.mood_hyperaware {
    background: #f8f8f8;
}
.mood_hyperaware .poemText {
    color: #111;
    font-weight: 600;
    letter-spacing: -0.01em;
}
.mood_hyperaware .atmosphereLayer {
    background: radial-gradient(
        circle at 30% 70%,
        rgba(200, 200, 255, 0.1) 0%,
        transparent 40%
    );
}

/* Empathetic */
.mood_empathetic {
    background: #f9f8f7;
}
.mood_empathetic .poemText {
    color: #2a2520;
    font-weight: 400;
}
.mood_empathetic .atmosphereLayer {
    background: radial-gradient(
        circle at 60% 40%,
        rgba(220, 200, 180, 0.12) 0%,
        transparent 50%
    );
}

/* Raw */
.mood_raw {
    background: #f6f6f6;
}
.mood_raw .poemText {
    color: #333;
    font-weight: 400;
}
.mood_raw .atmosphereLayer {
    background: linear-gradient(
        45deg,
        rgba(200, 180, 180, 0.08) 0%,
        transparent 70%
    );
}

/* Vulnerable */
.mood_vulnerable {
    background: #f7f6f6;
}
.mood_vulnerable .poemText {
    color: #444;
    font-weight: 350;
}
.mood_vulnerable .atmosphereLayer {
    background: radial-gradient(
        ellipse at 40% 60%,
        rgba(220, 200, 200, 0.1) 0%,
        transparent 60%
    );
}

/* Trapped */
.mood_trapped {
    background: #f3f3f3;
}
.mood_trapped .poemText {
    color: #555;
    letter-spacing: -0.02em;
}
.mood_trapped .atmosphereLayer {
    background: linear-gradient(
        0deg,
        rgba(150, 150, 150, 0.08) 0%,
        transparent 40%
    );
}

/* Rebellion */
.mood_rebellion {
    background: #f5f5f4;
}
.mood_rebellion .poemText {
    color: #2a2a2a;
    font-weight: 600;
}
.mood_rebellion .atmosphereLayer {
    background: linear-gradient(
        135deg,
        transparent 70%,
        rgba(180, 120, 120, 0.1) 100%
    );
}

/* Struggle */
.mood_struggle {
    background: #f4f4f4;
}
.mood_struggle .poemText {
    color: #444;
}
.mood_struggle .atmosphereLayer {
    background: linear-gradient(
        90deg,
        rgba(160, 160, 160, 0.06) 0%,
        transparent 50%
    );
}

/* Defiant */
.mood_defiant {
    background: #f6f5f5;
}
.mood_defiant .poemText {
    color: #1a1a1a;
    font-weight: 700;
}
.mood_defiant .atmosphereLayer {
    background: radial-gradient(
        circle at 20% 80%,
        rgba(200, 100, 100, 0.12) 0%,
        transparent 50%
    );
}

/* Powerful */
.mood_powerful {
    background: #f7f6f5;
}
.mood_powerful .poemText {
    color: #111;
    font-weight: 800;
    font-size: var(--text-5xl);
}
.mood_powerful .atmosphereLayer {
    background: linear-gradient(
        45deg,
        rgba(180, 120, 80, 0.1) 0%,
        transparent 60%
    );
}

/* Breaking */
.mood_breaking {
    background: #f2f2f2;
}
.mood_breaking .poemText {
    color: #555;
    font-weight: 300;
}
.mood_breaking .atmosphereLayer {
    background: radial-gradient(
        circle at center,
        rgba(120, 120, 120, 0.1) 0%,
        transparent 70%
    );
}

/* Void */
.mood_void {
    background: #f0f0f0;
}
.mood_void .poemText {
    color: #666;
    font-weight: 200;
    letter-spacing: 0.1em;
}
.mood_void .atmosphereLayer {
    background: radial-gradient(
        circle at center,
        rgba(200, 200, 200, 0.15) 0%,
        transparent 40%
    );
}

/* Revelation */
.mood_revelation {
    background: #f8f8f7;
}
.mood_revelation .poemText {
    color: #222;
    font-weight: 500;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.3);
}
.mood_revelation .atmosphereLayer {
    background: radial-gradient(
        circle at 50% 30%,
        rgba(255, 240, 200, 0.15) 0%,
        transparent 60%
    );
}

/* Purpose */
.mood_purpose {
    background: #f9f8f6;
}
.mood_purpose .poemText {
    color: #111;
    font-weight: 900;
    font-size: var(--text-6xl);
    text-shadow: 0 0 3px rgba(255, 255, 255, 0.4);
}
.mood_purpose .atmosphereLayer {
    background: radial-gradient(
        circle at center,
        rgba(255, 220, 150, 0.2) 0%,
        transparent 50%
    );
}

/* Truth */
.mood_truth {
    background: #faf9f8;
}
.mood_truth .poemText {
    color: #000;
    font-weight: 700;
    font-size: var(--text-5xl);
}
.mood_truth .atmosphereLayer {
    background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.3) 0%,
        transparent 80%
    );
}

/* RESPONSIVE DESIGN */

/* Tablet */
@media (max-width: 1024px) {
    .poemText {
        font-size: var(--text-3xl);
    }

    .mood_powerful .poemText {
        font-size: var(--text-4xl);
    }

    .mood_purpose .poemText {
        font-size: var(--text-5xl);
    }

    .mood_truth .poemText {
        font-size: var(--text-4xl);
    }
}

/* Mobile */
@media (max-width: 768px) {
    .stickyHeader {
        padding: var(--space-md) var(--space-lg);
        flex-direction: column;
        gap: var(--space-sm);
    }

    .progressContainer {
        order: 3;
        margin: 0;
        max-width: 100%;
    }

    .sectionInfo {
        order: 1;
    }

    .positionInfo {
        order: 2;
    }

    .poemText {
        font-size: var(--text-2xl);
        padding: 0 var(--space-lg);
    }

    .mood_powerful .poemText {
        font-size: var(--text-3xl);
    }

    .mood_purpose .poemText {
        font-size: var(--text-4xl);
    }

    .mood_truth .poemText {
        font-size: var(--text-3xl);
    }
}

/* Small mobile */
@media (max-width: 480px) {
    .stickyHeader {
        padding: var(--space-sm) var(--space-md);
    }

    .poemText {
        font-size: var(--text-xl);
        padding: 0 var(--space-md);
    }

    .mood_powerful .poemText {
        font-size: var(--text-2xl);
    }

    .mood_purpose .poemText {
        font-size: var(--text-3xl);
    }

    .mood_truth .poemText {
        font-size: var(--text-2xl);
    }
}

/* ACCESSIBILITY & PERFORMANCE */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    .poemText,
    .progressBar,
    .aboutContainer,
    .atmosphereLayer {
        transition-duration: 0.1s;
        animation-duration: 0.1s;
    }

    .poemText {
        animation: none;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .aboutContainer {
        background: #fff;
    }

    .poemText {
        color: #000;
        text-shadow: none;
    }

    .atmosphereLayer {
        display: none;
    }
}

/* Performance optimizations for older browsers */
@supports not (backdrop-filter: blur(10px)) {
    .stickyHeader {
        background: rgba(255, 255, 255, 0.98);
    }
}

/* Print styles */
@media print {
    .stickyHeader,
    .atmosphereLayer {
        display: none;
    }

    .aboutContainer {
        background: white;
        min-height: auto;
    }

    .stickyContent {
        position: static;
        transform: none;
        height: auto;
    }

    .poemText {
        color: black;
        font-size: 18pt;
        page-break-inside: avoid;
    }
}
